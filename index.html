<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ホワイトホテル鎌倉 | 鎌倉の旅が始まる、駅徒歩2分の小さな宿</title>
    <meta name="description" content="鎌倉駅から歩いてすぐ。窓から江ノ電が眺められる、建築家が手がける小さな宿。あなたの「泊まる」が、この宿の未来に繋がります。公式サイトで、特別な時間を見つけませんか？">
    <meta name="keywords" content="鎌倉ホテル,鎌倉,宿,江ノ電,リノベーションホテル,建築家,女子旅">
    <meta property="og:title" content="ホワイトホテル鎌倉 | 鎌倉の旅が始まる、駅徒歩2分の小さな宿">
    <meta property="og:description" content="窓から江ノ電が眺められる、建築家が手がける小さな宿。あなたの「泊まる」が、この宿の未来に繋がります。">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://whitehotel-kamakura.jp">
    <meta property="og:image" content="">
    <link rel="canonical" href="https://whitehotel-kamakura.jp/index.html">
    <link rel="alternate" hreflang="ja" href="https://whitehotel-kamakura.jp/index.html">
    <link rel="alternate" hreflang="en" href="https://whitehotel-kamakura.jp/index.en.html">
    <link rel="icon" type="image/png" href="./images/logo_white hotel kamakura.png">
    <link rel="apple-touch-icon" href="./images/logo_white hotel kamakura.png">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.css">
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/css/lightgallery-bundle.min.css">
    
    <link rel="stylesheet" href="style.css">
    
    </style>
</head>
<body>
    <svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
        <symbol id="icon-search" viewBox="0 0 24 24"><path d="M15.5 14h-.79l-.28-.27A6.471 6.471 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/></symbol>
        <symbol id="icon-users" viewBox="0 0 24 24"><path d="M9 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0-6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2zm0 8c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4zm-6 4c.22-.72 3.31-2 6-2 2.7 0 5.8 1.29 6 2H3zm12-4c0-1.12-.6-2.13-1.55-2.81C15.19 14.53 17 15.65 17 18v2h5v-2c0-2.66-5.33-4-8-4z"/></symbol>
        <symbol id="icon-bed" viewBox="0 0 24 24"><path d="M7 13c1.66 0 3-1.34 3-3S8.66 7 7 7s-3 1.34-3 3 1.34 3 3 3zm12-6h-8v7H3V5H1v15h2v-3h18v3h2V7c0-2.21-1.79-4-4-4z"/></symbol>
        <symbol id="icon-train" viewBox="0 0 24 24"><path d="M12 2c-4.42 0-8 .5-8 4v10c0 2.21 1.79 4 4 4h.5c.83 0 1.5-.67 1.5-1.5S10.33 17 9.5 17H8v-2h8v2h-1.5c-.83 0-1.5.67-1.5 1.5s.67 1.5 1.5 1.5H16c2.21 0 4-1.79 4-4V6c0-3.5-3.58-4-8-4zM8.5 15a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zm7 0a1.5 1.5 0 1 1 0-3 1.5 1.5 0 0 1 0 3zM18 10H6V7h12v3z"/></symbol>
        <symbol id="icon-shrine" viewBox="0 0 24 24"><path d="M12 2L2 7v2h2v11h16V9h2V7L12 2zM6 18V9h12v9H6zm2-6h2v4H8v-4zm4 0h2v4h-2v-4z"/></symbol>
        <symbol id="icon-beach" viewBox="0 0 24 24"><path d="M16.5 6.5c-1.93 0-3.5 1.57-3.5 3.5s1.57 3.5 3.5 3.5 3.5-1.57 3.5-3.5-1.57-3.5-3.5-3.5zm0 5c-.83 0-1.5-.67-1.5-1.5s.67-1.5 1.5-1.5 1.5.67 1.5 1.5-.67 1.5-1.5 1.5zM7 6l-5 4h10L7 6zm15 11.5c0-2.84-2.16-5.2-5-5.2s-5 2.36-5 5.2c0 2.45 2.22 4.5 5 4.5s5-2.05 5-4.5z"/></symbol>
        <symbol id="icon-shopping" viewBox="0 0 24 24"><path d="M18 6h-2c0-2.21-1.79-4-4-4S8 3.79 8 6H6c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V8c0-1.1-.9-2-2-2zm-6-2c1.1 0 2 .9 2 2h-4c0-1.1.9-2 2-2zm6 16H6V8h2v2c0 .55.45 1 1 1s1-.45 1-1V8h4v2c0 .55.45 1 1 1s1-.45 1-1V8h2v12z"/></symbol>
        <symbol id="icon-expand" viewBox="0 0 24 24"><path d="M7 14H5v5h5v-2H7v-3zm-2-4h2V7h3V5H5v5zm12 7h-3v2h5v-5h-2v3zM14 5v2h3v3h2V5h-5z"/></symbol>
        <symbol id="icon-chevron-down" viewBox="0 0 24 24"><path d="M7.41 8.59L12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"/></symbol>
        <symbol id="icon-chat" viewBox="0 0 24 24"><path d="M20 2H4c-1.1 0-2 .9-2 2v18l4-4h14c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H6l-2 2V4h16v12z"/></symbol>
        <symbol id="icon-instagram" viewBox="0 0 24 24"><path d="M7.8 2h8.4C19.4 2 22 4.6 22 7.8v8.4a5.8 5.8 0 0 1-5.8 5.8H7.8C4.6 22 2 19.4 2 16.2V7.8A5.8 5.8 0 0 1 7.8 2m-.2 2A3.6 3.6 0 0 0 4 7.6v8.8A3.6 3.6 0 0 0 7.6 20h8.8A3.6 3.6 0 0 0 20 16.4V7.6A3.6 3.6 0 0 0 16.4 4H7.6zm4.6 3a5 5 0 1 1 0 10 5 5 0 0 1 0-10zm0 2a3 3 0 1 0 0 6 3 3 0 0 0 0-6zm4-2.5a1.2 1.2 0 1 1-2.4 0 1.2 1.2 0 0 1 2.4 0z"/></symbol>
        <symbol id="icon-twitter" viewBox="0 0 24 24"><path d="M22.46 6c-.77.35-1.6.58-2.46.69.88-.53 1.56-1.37 1.88-2.38-.83.5-1.75.85-2.72 1.05C18.37 4.5 17.26 4 16 4c-2.35 0-4.27 1.92-4.27 4.29 0 .34.04.67.11.98C8.28 9.09 5.11 7.38 3 4.79c-.37.63-.58 1.37-.58 2.15 0 1.49.75 2.81 1.91 3.56-.71 0-1.37-.22-1.95-.55v.03c0 2.08 1.48 3.82 3.44 4.21a4.22 4.22 0 0 1-1.93.07 4.28 4.28 0 0 0 4 2.98 8.521 8.521 0 0 1-5.33 1.84c-.34 0-.68-.02-1.01-.06C3.18 20.75 5.26 21 7.44 21c7.98 0 12.34-6.61 12.34-12.35 0-.19 0-.38-.01-.56.84-.6 1.56-1.36 2.13-2.2z"/></symbol>
        <symbol id="icon-facebook" viewBox="0 0 24 24"><path d="M18 3a3 3 0 0 0-3 3v2h-3v4h3v8h4v-8h3l1-4h-4V6a1 1 0 0 1 1-1h3V3h-3z"/></symbol>
        <symbol id="icon-tiktok" viewBox="0 0 24 24" fill="currentColor"><path d="M12.525.02c1.31-.02 2.61-.01 3.91-.02.08 1.53.63 3.09 1.75 4.17 1.12 1.11 2.7 1.62 4.24 1.79v4.03c-1.44-.05-2.89-.35-4.2-.97-.57-.26-1.1-.59-1.62-.93-.01 2.92.01 5.84-.02 8.75-.08 1.4-.54 2.79-1.35 3.94-1.31 1.92-3.58 3.17-5.91 3.21-2.43.03-4.83-.95-6.43-2.88-1.59-1.92-2.31-4.58-1.96-7.12.31-2.27 1.52-4.28 3.43-5.56 1.91-1.28 4.28-1.67 6.43-1.31.02 1.56-.01 3.13.01 4.69-.94-.25-1.9-.23-2.82.03-.87.24-1.68.68-2.34 1.28-.61.55-1.11 1.23-1.42 1.98-.29.7-.43 1.43-.43 2.19.02 1.52.77 2.91 2.02 3.88 1.25.97 2.94 1.28 4.5 1.01.75-.12 1.45-.43 2.08-.88.56-.4.96-.93 1.2-1.54.24-.6.35-1.25.36-1.92.01-2.88.01-5.76.01-8.64-.01-1.58.6-3.16 1.71-4.25 1.11-1.09 2.66-1.63 4.2-1.78V.02z"/></symbol>
    </svg>

    <div class="page-loader" id="pageLoader">
        <div class="loader-content">
            <img src="./images/logo_white hotel kamakura.png" alt="White Hotel Kamakura Logo" class="loader-logo-image">
            <div class="loader-bar">
                <div class="loader-progress"></div>
            </div>
        </div>
    </div>
    
    <div class="modal-overlay" id="customModal">
        <div class="modal-content">
            <h3 class="modal-header" id="modalTitle"></h3>
            <div class="modal-body" id="modalMessage"></div>
            <div class="modal-footer" id="modalFooter">
                <button class="btn modal-close-btn" onclick="closeModal()">閉じる</button>
            </div>
        </div>
    </div>

    <header id="header">
        <div class="container">
            <div class="header-content">
                <a href="#home" class="logo">
                    <img src="./images/logo_white hotel kamakura.png" alt="White Hotel Kamakura Logo" class="header-logo">
                    <span class="logo-text">White Hotel</span>
                </a>
                <nav class="nav-menu">
                    <a href="#home" class="nav-link">ホーム</a>
                    <a href="#rooms" class="nav-link">お部屋</a>
                    <a href="#services" class="nav-link">サービス</a>
                    <a href="#location" class="nav-link">アクセス</a>
                    <a href="#reviews" class="nav-link">みんなの声</a>
                    <a href="#faq" class="nav-link">FAQ</a>
                    <a href="story.html" class="nav-link">物語</a>
                    <a href="blog.html" class="nav-link">ブログ</a>
                    <a href="#bookingWidget" class="nav-cta">空室をさがす</a>
                    <div class="language-switcher">
                        <a href="/index.html" class="lang-link active">JP</a>
                        <span>/</span>
                        <a href="/index.en.html" class="lang-link">EN</a>
                    </div>
                </nav>
                <button class="mobile-menu-btn" id="mobileMenuBtn" aria-label="メニューを開閉する">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </div>
        </div>
    </header>

    <div class="mobile-menu" id="mobileMenu">
        <a href="#home" class="mobile-nav-link">ホーム</a>
        <a href="#rooms" class="mobile-nav-link">お部屋</a>
        <a href="#services" class="mobile-nav-link">サービス</a>
        <a href="#location" class="mobile-nav-link">アクセス</a>
        <a href="#reviews" class="mobile-nav-link">みんなの声</a>
        <a href="#faq" class="mobile-nav-link">FAQ</a>
        <a href="story.html" class="mobile-nav-link">物語</a>
        <a href="blog.html" class="mobile-nav-link">ブログ</a>
        <a href="#bookingWidget" class="mobile-nav-link">空室をさがす</a>
    </div>

    <main>
        <section id="home" class="hero">
            <video class="hero-video" src="videos/hero-video.mp4" autoplay loop muted playsinline></video>
            <div class="hero-bg"></div>
            <div class="container">
                <div class="hero-content">
                    <div class="hero-badge">鎌倉駅徒歩2分 • 江ノ電ビュー • 期間限定オープン</div>
                    <h1>あなたの旅が、<br>物語をつむぐ宿。</h1>
                    <p class="hero-subtitle">
                        ここは、若手建築家チームが未来へと繋ぐ、再生プロジェクトの舞台。<br>
                        あなたの滞在が、この宿の新しい１ページになります。
                    </p>
                    <div class="hero-cta-group">
                        <a href="#bookingWidget" class="btn btn-primary">
                            <svg><use xlink:href="#icon-search"/></svg> 空室をさがす
                        </a>
                    </div>
                </div>
            </div>

            <div class="booking-widget" id="bookingWidget">
                <div class="widget-header">
                    <h3 class="widget-title">空室検索・料金チェック</h3>
                    <p class="widget-subtitle">ご希望の日にちで、お部屋を探してみませんか？</p>
                </div>
                <form class="booking-form" onsubmit="searchAvailability(event)">
                    <div class="form-group">
                        <label for="checkinDate" class="form-label">チェックイン</label>
                        <input type="date" class="form-input" id="checkinDate" required>
                    </div>
                    <div class="form-group">
                        <label for="checkoutDate" class="form-label">チェックアウト</label>
                        <input type="date" class="form-input" id="checkoutDate" required>
                    </div>
                    <div class="form-group">
                        <label for="guestCount" class="form-label">人数</label>
                        <select class="form-input" id="guestCount" required>
                            <option value="1" selected>1名</option>
                            <option value="2">2名</option>
                            <option value="3">3名</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="roomType" class="form-label">お部屋タイプ</label>
                        <select class="form-input" id="roomType" required>
                            <option value="">お部屋タイプを選択してください</option>
                            <option value="room-A" data-capacity="3">Room A (定員3名)</option>
                            <option value="room-B" data-capacity="2">Room B (定員2名)</option>
                            <option value="room-C" data-capacity="2">Room C (定員2名)</option>
                            <option value="room-D" data-capacity="1">Room D (定員1名)</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label class="form-label">ご宿泊者全員が18歳未満ですか？</label>
                        <div class="radio-group">
                            <input type="radio" id="allMinorsNo" name="allMinors" value="false" checked>
                            <label for="allMinorsNo">いいえ</label>
                            <input type="radio" id="allMinorsYes" name="allMinors" value="true">
                            <label for="allMinorsYes">はい</label>
                        </div>
                    </div>
                    <div id="minorConsentSection" class="form-group" style="display: none;">
                        <p class="consent-message">
                            <a href="./documents/minor_consent_form.pdf" target="_blank">未成年者宿泊同意書</a>をダウンロードし、保護者の方に記入・署名いただいた手書き原本をチェックイン時に必ずご持参ください。
                        </p>
                    </div>
                    <button type="submit" class="btn search-btn">
                        <svg><use xlink:href="#icon-search"/></svg> 検索する
                    </button>
                </form>
            </div>
        </section>

        <style>
.coming-soon-container {
    text-align: center;
    padding: 4rem 1rem;
    background-color: var(--bg-offwhite);
    border-radius: 20px;
}

.coming-soon-container h3 {
    font-size: 2rem;
    color: var(--primary-color);
    margin-bottom: 1rem;
}

.coming-soon-container p {
    font-size: 1.1rem;
    color: var(--text-secondary);
    margin-bottom: 2rem;
    line-height: 1.8;
}

.social-links-video {
    display: flex;
    justify-content: center;
    gap: 1.5rem;
    flex-wrap: wrap;
}

.social-link-video {
    display: inline-flex;
    align-items: center;
    gap: 0.8rem;
    padding: 0.8rem 1.8rem;
    border-radius: 50px;
    text-decoration: none;
    font-weight: 700;
    transition: var(--transition-smooth);
    color: var(--white);
}

.social-link-video.instagram {
    background: #E1306C;
}

.social-link-video.tiktok {
    background: #000000;
}

.social-link-video:hover {
    transform: translateY(-3px);
    opacity: 0.9;
}

.social-link-video svg {
    width: 22px;
    height: 22px;
    fill: currentColor;
}
</style>
        <section id="video-gallery" class="video-gallery-section" style="padding-bottom: 3rem;">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">私たちの宿づくり</h2>
                    <p class="section-subtitle">
                        若手建築家チームが奮闘する、宿づくりの裏側をショート動画でお届けします。
                    </p>
                </div>
                <div class="coming-soon-container" data-aos="fade-up" data-aos-delay="100">
                    <h3>近日公開！</h3>
                    <p>現在、宿づくりの様子をまとめたスペシャル動画を準備中です。どうぞお楽しみに！<br>最新情報は、SNSで発信しています。</p>
                    <div class="social-links-video">
                        <a href="https://www.instagram.com/suz.u3n.chu" target="_blank" class="social-link-video instagram">
                            <svg><use xlink:href="#icon-instagram"/></svg>
                            <span>Instagram</span>
                        </a>
                        <a href="https://www.tiktok.com/@suz.u3n.chu0?_t=ZS-8yBQLiPWvea&_r=1" target="_blank" class="social-link-video tiktok">
                            <svg><use xlink:href="#icon-tiktok"/></svg>
                            <span>TikTok (大バズり中)</span>
                        </a>
                    </div>
                </div>
            </div>
        </section>

        <section id="rooms" class="rooms-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">お部屋と料金のご案内</h2>
                    <p class="section-subtitle">
                        シンプルで心地いい。個性ある4つのお部屋をご用意しました。<br>
                        全室江ノ電ビュー！ご利用人数に応じて、最適なプランをご利用できます。<br>
                        ※金土日祝は表示金額の1.2倍となります。
                    </p>
                </div>

                <div class="rooms-grid">
                    <!-- Room A -->
                    <div class="room-card" data-aos="fade-up" data-aos-delay="100">
                        <div class="room-card-image gallery-trigger" data-room="a">
                            <img src="images/A/LINE_ALBUM_レタッチ済み A_250719_サムネイル.jpg" alt="Room A" style="width: 100%; height: 100%; object-fit: cover;">
                            <div class="gallery-overlay"><svg><use xlink:href="#icon-expand"/></svg></div>
                        </div>
                        <div class="room-card-content">
                            <h3 class="room-card-title">Room A</h3>
                            <p class="room-card-description">
                                駅に最も近く、広々とした和洋室。最大3名様までご利用可能で、ご家族やグループでの思い出作りに最適な、唯一のお部屋です。
                            </p>
                             <div class="room-card-details">
                                <div class="detail-item"><svg><use xlink:href="#icon-users"/></svg>定員3名</div>
                                <div class="detail-item"><svg><use xlink:href="#icon-bed"/></svg>ファミリー</div>
                            </div>
                            <div class="pricing-plan">
                                <h4 class="pricing-plan-title">料金プラン (1泊あたり)</h4>
                                <ul class="pricing-plan-list">
                                     <li><span>1名様 ご利用</span> <span class="price">¥10,000</span></li>
                                     <li><span>2名様 ご利用</span> <span class="price">¥10,000 <span class="per-person">(¥5,000/人)</span></span></li>
                                     <li><span>3名様 ご利用</span> <span class="price">¥15,000 <span class="per-person">(¥5,000/人)</span></span></li>
                                </ul>
                            </div>
                            <a href="#bookingWidget" onclick="selectRoomType(0)" class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 1.5rem;">この部屋タイプで空室を探す</a>
                        </div>
                    </div>
                    <!-- Room B -->
                    <div class="room-card" data-aos="fade-up" data-aos-delay="200">
                        <div class="room-card-image gallery-trigger" data-room="b">
                            <img src="images/B/LINE_ALBUM_レタッチ済み B_250719_サムネイル.jpg" alt="Room B" style="width: 100%; height: 100%; object-fit: cover;">
                            <div class="gallery-overlay"><svg><use xlink:href="#icon-expand"/></svg></div>
                        </div>
                        <div class="room-card-content">
                            <h3 class="room-card-title">Room B</h3>
                            <p class="room-card-description">
                                広めの空間で、ゆったりと過ごせるツインルーム。友人との旅行にぴったりです。
                            </p>
                             <div class="room-card-details">
                                <div class="detail-item"><svg><use xlink:href="#icon-users"/></svg>定員2名</div>
                                <div class="detail-item"><svg><use xlink:href="#icon-bed"/></svg>ツイン</div>
                            </div>
                            <div class="pricing-plan">
                                <h4 class="pricing-plan-title">料金プラン (1泊あたり)</h4>
                                <ul class="pricing-plan-list">
                                     <li><span>1名様 ご利用</span> <span class="price">¥7,000</span></li>
                                     <li><span>2名様 ご利用</span> <span class="price">¥10,000 <span class="per-person">(¥5,000/人)</span></span></li>
                                </ul>
                            </div>
                            <a href="#bookingWidget" onclick="selectRoomType(1)" class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 1.5rem;">この部屋タイプで空室を探す</a>
                        </div>
                    </div>
                    <!-- Room C -->
                    <div class="room-card" data-aos="fade-up" data-aos-delay="300">
                        <div class="room-card-image gallery-trigger" data-room="c">
                            <img src="images/C/LINE_ALBUM_レタッチ済み C_250719_サムネイル.jpg" alt="Room C" style="width: 100%; height: 100%; object-fit: cover;">
                            <div class="gallery-overlay"><svg><use xlink:href="#icon-expand"/></svg></div>
                        </div>
                        <div class="room-card-content">
                            <h3 class="room-card-title">Room C</h3>
                            <p class="room-card-description">
                                セミダブルベッド1つを2名で共用いただく形になります。その代わり、一人当たりの料金を抑えております。大きな窓から江ノ電を眺めながら、鎌倉の特別な時間をお過ごしください。
                            </p>
                             <div class="room-card-details">
                                <div class="detail-item"><svg><use xlink:href="#icon-users"/></svg>定員2名</div>
                                <div class="detail-item"><svg><use xlink:href="#icon-bed"/></svg>セミダブル</div>
                            </div>
                            <div class="pricing-plan">
                                <h4 class="pricing-plan-title">料金プラン (1泊あたり)</h4>
                                <ul class="pricing-plan-list">
                                    <li><span>1名様 ご利用</span> <span class="price">¥7,000</span></li>
                                    <li><span>2名様 ご利用</span> <span class="price">¥10,000 <span class="per-person">(¥5,000/人)</span></span></li>
                                </ul>
                            </div>
                            <a href="#bookingWidget" onclick="selectRoomType(2)" class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 1.5rem;">この部屋タイプで空室を探す</a>
                        </div>
                    </div>
                    <!-- Room D -->
                    <div class="room-card" data-aos="fade-up" data-aos-delay="400">
                        <div class="room-card-image gallery-trigger" data-room="d">
                            <img src="images/D/LINE_ALBUM_レタッチ済み D_250719_サムネイル.jpg" alt="Room D" style="width: 100%; height: 100%; object-fit: cover;">
                            <div class="gallery-overlay"><svg><use xlink:href="#icon-expand"/></svg></div>
                        </div>
                        <div class="room-card-content">
                            <h3 class="room-card-title">Room D</h3>
                            <p class="room-card-description">
                                一人旅に最適なコンパクトルーム。自分だけの時間を満喫できます。
                            </p>
                            <div class="room-card-details">
                                <div class="detail-item"><svg><use xlink:href="#icon-users"/></svg>定員1名</div>
                                <div class="detail-item"><svg><use xlink:href="#icon-bed"/></svg>シングル</div>
                            </div>
                            <div class="pricing-plan">
                                <h4 class="pricing-plan-title">料金プラン (1泊あたり)</h4>
                                <ul class="pricing-plan-list">
                                    <li><span>1名様 ご利用</span> <span class="price">¥5,000</span></li>
                                </ul>
                            </div>
                            <a href="#bookingWidget" onclick="selectRoomType(3)" class="btn btn-primary" style="width: 100%; justify-content: center; margin-top: 1.5rem;">この部屋タイプで空室を探す</a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="services" class="services-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">手ぶらで楽しむ、鎌倉の旅</h2>
                    <p class="section-subtitle">
                        ご宿泊のお客様も、そうでないお客様も。どなたでもご利用いただける手荷物預かりサービスで、<br>
                        もっと気軽に、もっと身軽に。あなたの鎌倉散策をサポートします。
                    </p>
                </div>
                <div class="services-grid">
                    <div class="service-card service-main" data-aos="fade-up" data-aos-delay="100">
                        <h3 class="service-card-title">一般のお客様</h3>
                        <p class="service-card-description">駅コインロッカーが埋まっていても大丈夫。旅の荷物を預けて、手ぶらで観光へ出かけませんか？</p>
                        <div class="pricing-plan">
                            <h4 class="pricing-plan-title">サービス料金</h4>
                            <table class="pricing-table">
                                <tbody>
                                    <tr>
                                        <th>小・中サイズ</th>
                                        <td>¥500</td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="item-description">機内持込キャリー(57×34×57cm以内, 長辺55cm以内, 15kg以内)</td>
                                    </tr>
                                    <tr>
                                        <th>大型サイズ</th>
                                        <td>¥700</td>
                                    </tr>
                                    <tr>
                                        <td colspan="2" class="item-description">スーツケース(長辺80cm以内, 三辺合計158cm以内)</td>
                                    </tr>
                                    <tr>
                                        <th>追加1泊ごと (小・中)</th>
                                        <td>¥300</td>
                                    </tr>
                                    <tr>
                                        <th>追加1泊ごと (大)</th>
                                        <td>¥400</td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <a href="tel:08088515250" class="btn btn-primary" style="width: 100%; justify-content: center;">お電話でお問い合わせ</a>
                    </div>
                    <div class="service-card service-guest" data-aos="fade-up" data-aos-delay="200">
                        <h3 class="service-card-title">ご宿泊のお客様</h3>
                        <p class="service-card-description">チェックイン前・チェックアウト後のお荷物を無料でお預かりします。時間を気にせず、最後まで鎌倉をお楽しみください。</p>
                        <ul class="service-benefits">
                            <li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="benefit-icon"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>チェックイン前のお預かり (11:00 AM〜)</li>
                            <li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="benefit-icon"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>チェックアウト後のお預かり (〜6:00 PM)</li>
                            <li><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" class="benefit-icon"><path fill-rule="evenodd" d="M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z" clip-rule="evenodd" /></svg>ご宿泊期間中はいつでも無料</li>
                        </ul>
                        <a href="#bookingWidget" class="btn" style="width: 100%; justify-content: center;">ご宿泊予約はこちら</a>
                    </div>
                </div>
                <div class="service-notes" data-aos="fade-up">
                    <h4 class="notes-title">ご利用にあたっての注意事項</h4>
                    <ul>
                        <li>貴重品はお預かりできません。</li>
                        <li>壊れやすいものや特別な配慮が必要なものは、受付時にお申し出ください。</li>
                        <li>料金は現金でのお支払いをお願いしております。</li>
                        <li>長期（数日間にわたる）預かりをご希望の場合は、事前にご相談ください。</li>
                    </ul>
                </div>
            </div>
        </section>

        <section id="location" class="map-section">
            <div class="container">
                <div class="map-container">
                    <div class="map-info" data-aos="fade-right">
                        <h2 class="section-title map-title">鎌倉散策の、秘密基地に。</h2>
                        <p class="section-subtitle" style="color: var(--text-primary); margin: 0 auto 2rem;">行きたい場所は、すぐそこ。ここを拠点に、気ままな鎌倉の旅へ出かけよう。</p>
                        <div class="location-grid" id="location-grid">
                            <div class="location-item active" data-location-query="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2716.9052598693493!2d139.54928662500606!3d35.31785059969351!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x601845c24760efcd%3A0x57b591a8af3a433!2z44Os44OH44Kj44O844K544Kk44OzIOODm-ODr-OCpOODiOODm-ODhuODqw!5e1!3m2!1sja!2sjp!4v1752052923352!5m2!1sja!2sjp">
                                <div class="location-icon"><svg><use xlink:href="#icon-train"/></svg></div>
                                <div class="location-details"><h4>White Hotel</h4><p>ここが私たちの宿です</p></div>
                            </div>
                            <div class="location-item" data-location-query="鎌倉駅">
                                <div class="location-icon"><svg><use xlink:href="#icon-train"/></svg></div>
                                <div class="location-details"><h4>鎌倉駅</h4><p>てくてく歩いて2分</p></div>
                            </div>
                            <div class="location-item" data-location-query="鶴岡八幡宮">
                                <div class="location-icon"><svg><use xlink:href="#icon-shrine"/></svg></div>
                                <div class="location-details"><h4>鶴岡八幡宮</h4><p>のんびり歩いて8分</p></div>
                            </div>
                            <div class="location-item" data-location-query="由比ガ浜海岸">
                                <div class="location-icon"><svg><use xlink:href="#icon-beach"/></svg></div>
                                <div class="location-details"><h4>由比ガ浜海岸</h4><p>江ノ電でコトコト8分</p></div>
                            </div>
                            <div class="location-item" data-location-query="小町通り">
                                <div class="location-icon"><svg><use xlink:href="#icon-shopping"/></svg></div>
                                <div class="location-details"><h4>小町通り</h4><p>食べ歩きに、徒歩3分</p></div>
                            </div>
                        </div>
                    </div>
                    <div class="interactive-map" data-aos="fade-left">
                         <iframe id="map-iframe" src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2716.9052598693493!2d139.54928662500606!3d35.31785059969351!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x601845c24760efcd%3A0x57b591a8af3a433!2z44Os44OH44Kj44O844K544Kk44OzIOODm-ODr-OCpOODiOODm-ODhuODqw!5e1!3m2!1sja!2sjp!4v1752052923352!5m2!1sja!2sjp" width="600" height="450" style="border:0;" allowfullscreen="" loading="lazy" referrerpolicy="no-referrer-when-downgrade"></iframe>
                    </div>
                </div>
            </div>
        </section>

        <section id="rules" class="rules-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">当ホテルのご利用について</h2>
                    <p class="section-subtitle">
                        ご滞在をより快適にお過ごしいただくためのご案内です。
                    </p>
                </div>
                <div class="rules-content" data-aos="fade-up" data-aos-delay="100">
                    <div class="rule-item">
                        <h4>チェックイン・チェックアウト</h4>
                        <p>チェックイン: 15:00 ~ 21:00</p>
                        <p>チェックアウト: 10:00</p>
                    </div>
                    <div class="rule-item">
                        <h4>お風呂</h4>
                        <p>共用、予約制(16:00-23:00)</p>
                    </div>
                    <div class="rule-item">
                        <h4>門限</h4>
                        <p>24:00にエントランスを施錠いたします。</p>
                    </div>
                </div>
            </div>
        </section>

        <section id="reviews" class="reviews-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">泊まってくれた、みんなの声</h2>
                    <p class="section-subtitle">
                        実際にご宿泊いただいたみなさんから、あたたかいお便りが届いています。
                    </p>
                </div>

                <div class="reviews-carousel swiper" data-aos="fade-up" data-aos-delay="200">
                    <div class="swiper-wrapper">
                        <div class="swiper-slide">
                            <div class="review-slide" style="min-height: auto; padding: 3rem;">
                                <div class="review-content" style="font-style: normal; color: var(--text-primary); font-size: 1.1rem; margin-bottom: 0;">
                                    <p>当ホテルは、2025年7月15日より期間限定でオープンいたします。</p>
                                    <p>オープン後、実際にご宿泊いただいたお客様からの感想を、こちらに掲載する予定です。</p>
                                    <p>皆様からの貴重なご意見を心よりお待ちしております。</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="swiper-pagination"></div>
                    <div class="swiper-button-prev"></div>
                    <div class="swiper-button-next"></div>
                </div>
            </div>
        </section>

        <section id="gallery" class="gallery-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">旅のアルバム</h2>
                    <p class="section-subtitle">
                        私たちの宿の、何気ない日常の風景です。
                        写真をクリックして、旅のイメージを膨らませてみてください。
                    </p>
                </div>

                <div class="gallery-grid" id="lightgallery">
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="100">
                      <a href="./images/旅のアルバム/エントランス1.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/エントランス1.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">🚪 1階エントランス・くつろぎスペース</h4>
                        <p class="caption-description">江ノ電を眺めながらゆったりできる、到着後のほっと一息スペースです</p>
                      </div>
                    </div>
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="200">
                      <a href="./images/旅のアルバム/エントランス2.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/エントランス2.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">🚃 江ノ電ビューラウンジ</h4>
                        <p class="caption-description">大きな窓から江ノ電が見える、宿自慢の特等席です</p>
                      </div>
                    </div>
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="300">
                      <a href="./images/旅のアルバム/エントランス3.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/エントランス3.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">✨ エントランス・別アングル</h4>
                        <p class="caption-description">開放感あふれるエントランスで、鎌倉の旅が始まります</p>
                      </div>
                    </div>
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="400">
                      <a href="./images/旅のアルバム/アメニティ.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/アメニティ.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">🧴 お部屋にご用意している備品</h4>
                        <p class="caption-description">清潔なタオルや館内着など、快適にお過ごしいただける備品をご用意</p>
                      </div>
                    </div>
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="500">
                      <a href="./images/旅のアルバム/お風呂.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/お風呂.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">🛀 共用お風呂・ゆったり湯船</h4>
                        <p class="caption-description">予約制でプライベート感覚。一日の疲れをゆっくり癒してください</p>
                      </div>
                    </div>
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="600">
                      <a href="./images/旅のアルバム/ソープ類.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/ソープ類.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">🧼 厳選バスアメニティ</h4>
                        <p class="caption-description">上質なシャンプー・コンディショナー・ボディソープを完備しています</p>
                      </div>
                    </div>
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="700">
                      <a href="./images/旅のアルバム/ドライヤー.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/ドライヤー.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">💨 ドライヤー・ヘアケア用品</h4>
                        <p class="caption-description">快適な滞在のために、高性能ドライヤーとヘアケア用品をご用意</p>
                      </div>
                    </div>
                    <div class="gallery-item-container" data-aos="zoom-in" data-aos-delay="800">
                      <a href="./images/旅のアルバム/洗面所.jpg"
                          class="gallery-item"
                          style="background-image: url('./images/旅のアルバム/洗面所.jpg')">
                        <div class="gallery-overlay">
                          <svg><use xlink:href="#icon-expand"/></svg>
                        </div>
                      </a>
                      <div class="gallery-caption">
                        <h4 class="caption-title">🪞 洗面・パウダールーム</h4>
                        <p class="caption-description">明るく清潔な洗面台で、朝の支度も気持ちよくスタートできます</p>
                      </div>
                    </div>
                </div>
            </div>
        </section>

        <section id="faq" class="faq-section">
            <div class="container">
                <div class="section-header" data-aos="fade-up">
                    <h2 class="section-title">気になること</h2>
                    <p class="section-subtitle">
                        ご宿泊の前に、ちょっとした疑問を解決しておきましょう。
                    </p>
                </div>

                <div class="faq-container" id="faqContainer">
                    
                    <div class="faq-item" data-aos="fade-up" data-aos-delay="100">
                        <div class="faq-question"><span>チェックイン前に荷物は預けられますか？</span><div class="faq-icon"><svg><use xlink:href="#icon-chevron-down"/></svg></div></div>
                        <div class="faq-answer"><div class="faq-answer-content">はい、チェックイン前でもお荷物をお預かりできます。午前11時より承っております。また、ご宿泊者様以外の方でも有料にてお預かりを検討しておりますので、詳しくは<a href="#services" class="faq-link">荷物預かりサービス</a>をご覧ください。</div></div>
                    </div>

                    <div class="faq-item" data-aos="fade-up" data-aos-delay="200">
                        <div class="faq-question"><span>子どもやペットと一緒に泊まれますか？</span><div class="faq-icon"><svg><use xlink:href="#icon-chevron-down"/></svg></div></div>
                        <div class="faq-answer"><div class="faq-answer-content">未就学のお子様は、添い寝でしたら無料でご宿泊いただけます。残念ながら、ペットは一緒にお泊まりいただけません。ごめんなさい。</div></div>
                    </div>

                    <div class="faq-item" data-aos="fade-up" data-aos-delay="300">
                        <div class="faq-question"><span>Wi-Fiはありますか？仕事でも使えますか？</span><div class="faq-icon"><svg><use xlink:href="#icon-chevron-down"/></svg></div></div>
                        <div class="faq-answer"><div class="faq-answer-content">Wi-Fi完備！お仕事でもプライベートでもご利用いただけます。</div></div>
                    </div>

                    <div class="faq-item" data-aos="fade-up" data-aos-delay="400">
                        <div class="faq-question"><span>キャンセル料はいつからかかりますか？</span><div class="faq-icon"><svg><use xlink:href="#icon-chevron-down"/></svg></div></div>
                        <div class="faq-answer"><div class="faq-answer-content">ご宿泊の3日前まででしたら、キャンセル料はかかりません。それ以降のキャンセルや、ご連絡なくお越しにならなかった場合は、ご予約料金の100%をいただいております。</div></div>
                    </div>
                </div>
            </div>
        </section>

        <section id="booking" class="cta-section">
            <div class="container">
                <div class="cta-content" data-aos="fade-up">
                    <h2 class="cta-title">さあ、鎌倉の旅へ。</h2>
                    <p class="cta-text">
                        予約はとってもかんたん。
                        公式サイトからのご予約が、いちばんお得です。<br>
                        あなたにお会いできるのを楽しみにしています。
                    </p>
                    <div class="cta-buttons">
                        <a href="#bookingWidget" class="btn btn-primary">
                            公式サイトで予約する
                        </a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer id="contact">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo-group">
                        <img src="./images/logo_white hotel kamakura.png" alt="White Hotel Kamakura Logo" class="footer-logo-image">
                        <h3 class="footer-logo-text">White Hotel Kamakura</h3>
                    </div>
                    <p>〒248-0012<br>神奈川県鎌倉市御成町2-20</p>
                    <p style="margin-top: 1rem;">
                        TEL: <a href="tel:08088515250">08088515250</a><br>
                        Email: <a href="mailto:white-hotel@archi-prisma.co.jp">white-hotel@archi-prisma.co.jp</a>
                    </p>
                    <div class="social-links">
                        <a href="https://www.instagram.com/suz.u3n.chu/?utm_source=ig_embed&ig_rid=4756f330-ea74-4e2d-8b51-a5b7528b63b9" target="_blank" class="social-link" aria-label="Instagram"><svg><use xlink:href="#icon-instagram"/></svg></a>
                    </div>
                </div>
                <div class="footer-section">
                    <h3>サイトマップ</h3>
                    <ul class="footer-links">
                        <li><a href="#home">ホーム</a></li>
                        <li><a href="#rooms">お部屋のご案内</a></li>
                        <li><a href="#location">アクセス</a></li>
                        <li><a href="#faq">よくあるご質問</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>サポート</h3>
                    <ul class="footer-links">
                        <li><a href="#contact">お問い合わせ</a></li>
                        <li><a href="privacy.html">プライバシーポリシー</a></li>
                        <li><a href="terms.html">利用規約</a></li>
                        <li style="margin-top: 1rem;"><a href="story.html" class="story-link">この宿の物語について</a></li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>© 2025 White Hotel Kamakura. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <div class="floating-chat">
        <div class="chat-btn" onclick="openChat()" aria-label="チャットを開く">
            <svg><use xlink:href="#icon-chat"/></svg>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/aos/2.3.4/aos.js"></script>
    
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/lightgallery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/thumbnail/lg-thumbnail.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lightgallery/2.7.1/plugins/zoom/lg-zoom.min.js"></script>

    
    

    <script>
        // --- グローバル変数・定数 ---
        const modal = document.getElementById('customModal');
        const modalTitle = document.getElementById('modalTitle');
        const modalMessage = document.getElementById('modalMessage');
        const modalFooter = document.getElementById('modalFooter');

        // --- モーダル表示・非表示 ---
        const showModal = (title, message, footerContent = '<button class="btn modal-close-btn" onclick="closeModal()">閉じる</button>') => {
            if (!modal || !modalTitle || !modalMessage || !modalFooter) return;
            modalTitle.textContent = title;
            modalMessage.innerHTML = message;
            modalFooter.innerHTML = footerContent;
            modal.classList.add('active');
        };
        const closeModal = () => {
            if (!modal) return;
            modal.classList.remove('active');
        };
        if (modal) {
            modal.addEventListener('click', (e) => {
                if (e.target === modal) closeModal();
            });
        }

        // --- 料金計算ロジック ---
        const ROOM_DETAILS = {
            'room-A': { name: 'Room A', capacity: 3, type: 'triple' },
            'room-B': { name: 'Room B', capacity: 2, type: 'twin' },
            'room-C': { name: 'Room C', capacity: 2, type: 'semi-twin' },
            'room-D': { name: 'Room D', capacity: 1, type: 'single' }
        };

        function calculatePrice(roomId, guests, checkinDateStr) { // checkinDateStr を追加
            const roomDetails = ROOM_DETAILS[roomId];
            if (!roomDetails) return 0;

            const roomType = roomDetails.type;
            const numGuests = parseInt(guests, 10);
            let basePrice = 0;

            if (roomType === 'single') {
                basePrice = 5000;
            } else if (roomType === 'semi-twin') {
                if (numGuests === 1) basePrice = 7000;
                else if (numGuests === 2) basePrice = 10000;
            } else if (roomType === 'twin') {
                if (numGuests === 1) basePrice = 7000;
                else if (numGuests === 2) basePrice = 10000;
            } else if (roomType === 'triple') {
                if (numGuests === 1) basePrice = 10000;
                else if (numGuests === 2) basePrice = 10000;
                else if (numGuests >= 3) basePrice = 15000;
            } else {
                return 0; // 不明な部屋タイプの場合
            }

            // お盆料金の計算 (8/12-16 チェックイン)
            const checkinDate = new Date(checkinDateStr);
            const year = checkinDate.getFullYear();
            const obonStart = new Date(year, 7, 12); // 8月は7 (0ベース)
            const obonEnd = new Date(year, 7, 16);
            
            if (checkinDate >= obonStart && checkinDate <= obonEnd) {
                console.log('🎋 お盆料金適用: 基本料金 ×1.5');
                basePrice *= 1.5; // 50% UP
            } else {
                // 週末・祝日料金の計算 (お盆期間外のみ)
                const dayOfWeek = checkinDate.getDay(); // 0 = Sunday, 6 = Saturday
                
                // 金曜日 (5), 土曜日 (6), または祝前日 (isPreHoliday) にチェックインした場合に1.2倍
                if (dayOfWeek === 5 || dayOfWeek === 6 || isPreHoliday(checkinDate)) {
                    basePrice *= 1.20; // 20% UP
                }
            }

            return Math.round(basePrice); // 端数処理
        }

        // --- 予約関連のロジック ---

        /* ① GAS エンドポイント */
        const ENDPOINT = "https://script.google.com/macros/s/AKfycbx38gteyFQ9LnYtAIP5iFI1x16QyknqiWn0Gm44ittEULRPRKURO-TAEjcwrmBWD8W2/exec";

        // Holiday list for 2025 (YYYY-MM-DD format)
        const HOLIDAYS_2025 = new Set([
            '2025-01-01', '2025-01-13', '2025-02-11', '2025-02-23', '2025-02-24',
            '2025-03-20', '2025-04-29', '2025-04-30', '2025-05-01', '2025-05-02',
            '2025-05-03', '2025-05-04', '2025-05-05', '2025-05-06', '2025-07-21',
            '2025-08-11', '2025-08-13', '2025-08-14', '2025-08-15', '2025-08-16',
            '2025-09-15', '2025-09-23', '2025-10-13', '2025-11-03', '2025-11-23',
            '2025-11-24', '2025-12-29', '2025-12-30', '2025-12-31'
        ]);

        // Helper function to format date to YYYY-MM-DD
        function formatDateToYYYYMMDD(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }

        // Helper function to check if a date is a holiday
        function isHoliday(date) {
            return HOLIDAYS_2025.has(formatDateToYYYYMMDD(date));
        }

        // Helper function to check if the day after is a holiday (i.e., current day is pre-holiday)
        function isPreHoliday(date) {
            const nextDay = new Date(date);
            nextDay.setDate(date.getDate() + 1);
            return isHoliday(nextDay);
        }

        /* ② 空室検索ロジック */
        async function searchAvailability(event) {
            event.preventDefault();
            const btn = event.target.querySelector('.search-btn');
            if (btn.disabled) return;
            btn.disabled = true;
            btn.innerHTML = '検索中…';

            const cin = document.getElementById('checkinDate').value;
            const cout = document.getElementById('checkoutDate').value;
            const guests = document.getElementById('guestCount').value;
            const type = document.getElementById('roomType').value; // ユーザーが選択した部屋タイプ

            // バリデーション
            if (!guests || guests === '') {
                showModal('入力エラー', '人数を選択してください。');
                btn.disabled = false;
                btn.innerHTML = '<svg><use xlink:href="#icon-search"/></svg> 検索する';
                return;
            }
            if (!type) {
                showModal('入力エラー', 'お部屋タイプを選択してください。');
                btn.disabled = false;
                btn.innerHTML = '<svg><use xlink:href="#icon-search"/></svg> 検索する';
                return;
            }

            try {
                // URLSearchParams を使用（CORSエラーを回避）
                const formData = new URLSearchParams();
                const allMinors = document.querySelector('input[name="allMinors"]:checked').value;
                formData.append('data', JSON.stringify({
                    action: 'search',
                    cin: cin,
                    cout: cout,
                    guests: guests,
                    type: type,
                    allMinors: allMinors
                }));

                const response = await fetch(ENDPOINT, {
                    method: 'POST',
                    body: formData  // Content
                });
                
                if (!response.ok) {
                    let errorMsg = `サーバーとの通信に失敗しました (HTTP ${response.status})。`;
                    try {
                        const errorData = await response.json();
                        errorMsg = errorData.msg || errorMsg;
                    } catch (e) { /* JSONの解析に失敗した場合は、元のエラーメッセージを使用 */ }
                    throw new Error(errorMsg);
                }
                
                const data = await response.json();

                if (!data.ok) {
                    throw new Error(data.msg || 'サーバーでエラーが発生しました。');
                }

                if (data.rooms.length === 0) {
                    showModal('満室です 😢', '残念ながらご指定の条件では空室がありません。<br>日程や人数を変えて再度お試しください。');
                    return;
                }

                // 見つかった部屋から最初の1つを選択
                const foundRoom = data.rooms[0];
                
                // 部屋IDに対応する詳細情報を取得
                const selectedRoomDetails = ROOM_DETAILS[foundRoom.id];
                if (!selectedRoomDetails) {
                    throw new Error('選択された部屋が見つかりません。');
                }

                const perNightPrice = calculatePrice(foundRoom.id, guests, cin);

                const checkinDate = new Date(cin);
                const checkoutDate = new Date(cout);
                const nights = Math.round((checkoutDate - checkinDate) / (1000 * 60 * 60 * 24));
                const totalPrice = perNightPrice * nights;

                const html = `
                    <b>空室が見つかりました!</b><br>
                    お部屋: ${foundRoom.name}<br>
                    定員: ${foundRoom.capacity} 名様まで<br>
                    ${foundRoom.type === 'twin' ? 'セミダブルベッド1つを2名で共用いただく形になります。<br>' : ''}
                    ご宿泊料金: <b>¥${totalPrice.toLocaleString()}</b> (${guests}名様ご利用 / ${nights}泊)<br><br>
                    <p>このお部屋で予約手続きに進みますか？</p>
                `;
                const footer = `<button class="btn btn-primary" onclick="bookNow('${foundRoom.id}', ${totalPrice})">この部屋を予約する</button> <button class="btn modal-close-btn" onclick="closeModal()">キャンセル</button>`;
                showModal('検索結果', html, footer);

            } catch (err) {
                showModal('検索エラー', `検索中にエラーが発生しました。<br><small>詳細: ${err.message}</small><br><br>時間をおいて再度お試しください。`);
                console.error('検索エラー:', err);
            } finally {
                btn.disabled = false;
                btn.innerHTML = '<svg><use xlink:href="#icon-search"/></svg> 検索する';
            }
        }

        /* ③ 予約確定ロジック */
        async function bookNow(roomId, price) {
            closeModal(); 
            // 予約情報をURLパラメータとして渡して確認ページへリダイレクト
            const checkinDate = document.getElementById('checkinDate').value;
            const checkoutDate = document.getElementById('checkoutDate').value;
            const guests = document.getElementById('guestCount').value;
            const roomType = document.getElementById('roomType').value;

            const params = new URLSearchParams({
                roomId: roomId,
                price: price,
                checkin: checkinDate,
                checkout: checkoutDate,
                guests: guests,
                roomType: roomType,
                allMinors: document.querySelector('input[name="allMinors"]:checked').value
            }).toString();

            window.location.href = `reservation-confirmation.html?${params}`;
        }

        // --- その他のUI操作関数 ---
        function openLightGallery(galleryId) {
            // この機能は現在使用していませんが、将来のために残しておきます
        }

        function openChat() {
            // ここにあなたのデプロイしたGASウェブアプリのURLを貼り付けてください
            const chatBotUrl = "https://script.google.com/macros/s/AKfycbwpSb-B6RHsNy9pbW1c147M4whrQlaGWwFhXDaDLBN-KVSNuE7-Lx-zHKMuXiKcJtDU/exec"; 

            const iframeHtml = `
                <iframe 
                    src="${chatBotUrl}" 
                    width="100%" 
                    height="100%"
                    frameborder="0" 
                    style="border: none; border-radius: 8px; height: 100%; min-height: 70vh;">
                </iframe>
                <p style="font-size: 0.8rem; color: #666; margin-top: 10px; text-align: center;">
                    上記チャットで解決しない場合は、直接お電話またはメールでお問い合わせください。<br>
                    <a href="tel:08088515250">080-8851-5250</a> または <a href="mailto:white-hotel@archi-prisma.co.jp">white-hotel@archi-prisma.co.jp</a>
                </p>
            `;
            showModal('', iframeHtml, '<button class="btn modal-close-btn" onclick="closeModal()">閉じる</button>');
        }

        function selectRoomType(index) {
            const roomTypeEl = document.getElementById('roomType');
            const roomValues = ['room-A', 'room-B', 'room-C', 'room-D']; // 部屋のvalue値の配列
            if (index >= 0 && index < roomValues.length) {
                roomTypeEl.value = roomValues[index];
                // 人数選択肢も更新
                const event = new Event('change');
                roomTypeEl.dispatchEvent(event);
            }
        }

        

        // --- アプリケーションの初期化 ---
        function initializeApp() {
            // Loader
            const loader = document.getElementById('pageLoader');
            if (loader) {
                // DOMContentLoadedで即座に非表示にする
                loader.style.opacity = '0';
                setTimeout(() => { loader.style.display = 'none'; }, 500); // アニメーションのために少し遅延
            }

            // Header Scroll
            const header = document.getElementById('header');
            let lastScrollY = window.scrollY;
            const handleScroll = () => {
                const currentScrollY = window.scrollY;
                const isScrolled = currentScrollY > 50;
                if (header) {
                    header.classList.toggle('header-transparent', !isScrolled && window.scrollY < 50);
                     if (window.innerWidth > 768) {
                        if (currentScrollY > lastScrollY && isScrolled) {
                            header.style.transform = 'translateY(-100%)';
                        } else {
                            header.style.transform = 'translateY(0)';
                        }
                    }
                }
                lastScrollY = currentScrollY;
            };
            window.addEventListener('scroll', handleScroll, { passive: true });
            handleScroll();

            // 人数と部屋タイプの連動ロジック
            const guestCountSelect = document.getElementById('guestCount');
            const roomTypeSelect = document.getElementById('roomType');

            // 人数変更時：選択可能な部屋タイプを制限
            guestCountSelect.addEventListener('change', function() {
                const selectedGuests = parseInt(this.value) || 0;
                const roomOptions = roomTypeSelect.querySelectorAll('option[data-capacity]');
                
                roomOptions.forEach(option => {
                    const roomCapacity = parseInt(option.getAttribute('data-capacity'));
                    if (selectedGuests > roomCapacity) {
                        option.disabled = true;
                        option.style.color = '#ccc';
                    } else {
                        option.disabled = false;
                        option.style.color = '';
                    }
                });

                // 現在選択されている部屋が定員不足の場合はリセット
                const currentRoom = roomTypeSelect.value;
                if (currentRoom) {
                    const currentOption = roomTypeSelect.querySelector(`option[value="${currentRoom}"]`);
                    const currentCapacity = parseInt(currentOption?.getAttribute('data-capacity') || 0);
                    if (selectedGuests > currentCapacity) {
                        roomTypeSelect.value = '';
                    }
                }
            });

            // 部屋タイプ変更時：人数の最大値を制限
            roomTypeSelect.addEventListener('change', function() {
                const selectedRoom = this.value;
                
                // まず全ての人数選択肢を有効にリセット
                const allGuestOptions = guestCountSelect.querySelectorAll('option');
                allGuestOptions.forEach(option => {
                    if (option.value) {
                        option.disabled = false;
                        option.style.color = '';
                        option.style.backgroundColor = '';
                    }
                });
                
                if (selectedRoom) {
                    const selectedOption = this.querySelector(`option[value="${selectedRoom}"]`);
                    const maxCapacity = parseInt(selectedOption?.getAttribute('data-capacity') || 3);
                    
                    // 人数選択肢を更新
                    const guestOptions = guestCountSelect.querySelectorAll('option');
                    guestOptions.forEach(option => {
                        const guestValue = parseInt(option.value);
                        if (guestValue && guestValue > maxCapacity) {
                            option.disabled = true;
                            option.style.color = '#ccc';
                            option.style.backgroundColor = '#f5f5f5';
                        }
                    });

                    // 現在選択されている人数が部屋の定員を超えている場合はリセット
                    const currentGuests = parseInt(guestCountSelect.value) || 0;
                    if (currentGuests > maxCapacity) {
                        guestCountSelect.value = '1'; // デフォルトの1名に戻す
                    }
                }
            });


            // Mobile Menu
            const mobileMenuBtn = document.getElementById('mobileMenuBtn');
            const mobileMenu = document.getElementById('mobileMenu');
            const toggleMobileMenu = () => {
                mobileMenuBtn.classList.toggle('active');
                mobileMenu.classList.toggle('active');
                document.body.style.overflow = mobileMenu.classList.contains('active') ? 'hidden' : '';
            };
            mobileMenuBtn.addEventListener('click', toggleMobileMenu);
            document.querySelectorAll('.mobile-nav-link, .nav-link, .btn, .logo').forEach(link => {
                link.addEventListener('click', (e) => {
                    const href = link.getAttribute('href');
                    if (href && href.startsWith('#')) {
                        if (mobileMenu.classList.contains('active')) {
                            toggleMobileMenu();
                        }
                        const targetEl = document.querySelector(href);
                        if (targetEl) {
                           e.preventDefault();
                           const offset = (href === '#bookingWidget' && window.innerWidth <= 768) ? 100 : 80;
                           const bodyRect = document.body.getBoundingClientRect().top;
                           const elementRect = targetEl.getBoundingClientRect().top;
                           const elementPosition = elementRect - bodyRect;
                           const offsetPosition = elementPosition - offset;

                           window.scrollTo({
                               top: offsetPosition,
                               behavior: 'smooth'
                           });
                        }
                    }
                });
            });

            
            // Date Picker
            const today = new Date();
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const formatDate = (date) => date.toISOString().split('T')[0];
            const checkinDateEl = document.getElementById('checkinDate');
            const checkoutDateEl = document.getElementById('checkoutDate');

            // 初期ロード時に日付を設定
            if (checkinDateEl) {
                checkinDateEl.min = formatDate(today);
                checkinDateEl.max = '2025-10-14';
                checkinDateEl.value = formatDate(today);
            }
            if (checkoutDateEl) {
                checkoutDateEl.min = formatDate(tomorrow);
                checkoutDateEl.max = '2025-10-15';
                checkoutDateEl.value = formatDate(tomorrow);
            }

            // チェックイン日変更時のチェックアウト日自動調整
            if (checkinDateEl) {
                checkinDateEl.addEventListener('change', function() {
                    const checkinDate = new Date(this.value);
                    const nextDay = new Date(checkinDate);
                    nextDay.setDate(nextDay.getDate() + 1);
                    const nextDayStr = formatDate(nextDay);
                    checkoutDateEl.min = nextDayStr;
                    if (checkoutDateEl.value <= this.value) {
                        checkoutDateEl.value = nextDayStr;
                    }
                });
            }

            // 未成年者同意書セクションの表示/非表示
            const allMinorsRadios = document.querySelectorAll('input[name="allMinors"]');
            const minorConsentSection = document.getElementById('minorConsentSection');

            const toggleMinorConsentSection = () => {
                if (document.getElementById('allMinorsYes').checked) {
                    minorConsentSection.style.display = 'block';
                } else {
                    minorConsentSection.style.display = 'none';
                }
            };

            allMinorsRadios.forEach(radio => {
                radio.addEventListener('change', toggleMinorConsentSection);
            });
            toggleMinorConsentSection(); // 初期表示

            // FAQ
            const faqContainer = document.getElementById('faqContainer');
            if (faqContainer) {
                faqContainer.addEventListener('click', function(e) {
                    const question = e.target.closest('.faq-question');
                    if (!question) return;
                    const faqItem = question.parentElement;
                    const isActive = faqItem.classList.contains('active');
                    
                    const currentlyActive = faqContainer.querySelector('.faq-item.active');
                    if (currentlyActive && currentlyActive !== faqItem) {
                        currentlyActive.classList.remove('active');
                    }

                    faqItem.classList.toggle('active');
                });
            }

            // Interactive Map
            const mapIframe = document.getElementById('map-iframe');
            const locationGrid = document.getElementById('location-grid');
            if (mapIframe && locationGrid) {
                locationGrid.addEventListener('click', function(e) {
                    const item = e.target.closest('.location-item');
                    if (!item) return;
                    locationGrid.querySelectorAll('.location-item').forEach(el => el.classList.remove('active'));
                    item.classList.add('active');
                    const query = item.dataset.locationQuery;
                    if (query) {
                        let newSrc;
                        if (query.startsWith('https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d2716.9052598693493!2d139.54928662500606!3d35.31785059969351!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x601845c24760efcd%3A0x57b591a8af3a433!2z44Os44OH44Kj44O844K544Kk44OzIOODm-ODr-OCpOODiOODm-ODhuODqw!5e1!3m2!1sja!2sjp!4v1752052923352!5m2!1sja!2sjp')) {
                            newSrc = query; // 埋め込みURLならそのまま使用
                        } else {
                            newSrc = `https://maps.google.com/maps?q=$${encodeURIComponent(query)}&t=&z=16&ie=UTF8&iwloc=&output=embed`; // それ以外はクエリをエンコード
                        }
                        mapIframe.src = newSrc;
                    }
                });
            }
        }

        function initializeLibraries() {
            // AOS
            try {
                if (typeof AOS !== 'undefined') {
                    AOS.init({ duration: 800, easing: 'ease-out-quart', once: true });
                }
            } catch (e) { console.error("AOS initialization failed:", e); }

            // Swiper Carousel (Reviews)
            try {
                if (typeof Swiper !== 'undefined' && document.querySelector('.reviews-carousel')) {
                    new Swiper('.reviews-carousel', {
                        slidesPerView: 1,
                        spaceBetween: 30,
                        // loop: true, // 1枚のスライドでループを有効にすると問題が起きる可能性があるため、一旦コメントアウト
                        autoplay: {
                            delay: 5000,
                            disableOnInteraction: false,
                        },
                        pagination: {
                            el: '.swiper-pagination',
                            clickable: true,
                        },
                        navigation: {
                            nextEl: '.swiper-button-next',
                            prevEl: '.swiper-button-prev',
                        },
                    });
                }
            } catch (e) { console.error("Reviews Swiper failed to initialize:", e); }

            // LightGallery for Rooms
            try {
                if (typeof Swiper !== 'undefined' && document.getElementById('instagram-swiper')) {
                    // Instagram埋め込みスクリプトのロードを待つ関数
                    const waitForInstagramEmbed = (callback) => {
                        if (window.instgrm && window.instgrm.Embeds && typeof window.instgrm.Embeds.process === 'function') {
                            callback();
                        } else {
                            setTimeout(() => waitForInstagramEmbed(callback), 100);
                        }
                    };

                    waitForInstagramEmbed(() => {
                        const swiper = new Swiper('#instagram-swiper', {
                            // 基本設定
                            slidesPerView: 1,
                            spaceBetween: 30,
                            loop: true,
                            
                            // レスポンシブ設定
                            breakpoints: {
                                768: {
                                    slidesPerView: 2,
                                    spaceBetween: 20
                                },
                                1024: {
                                    slidesPerView: 3,
                                    spaceBetween: 30
                                }
                            },
                            
                            // ナビゲーション
                            navigation: {
                                nextEl: '.swiper-button-next',
                                prevEl: '.swiper-button-prev',
                            },
                            
                            // ページネーション
                            pagination: {
                                el: '.swiper-pagination',
                                clickable: true,
                            },
                            
                            // その他の設定
                            autoplay: {
                                delay: 5000,
                                disableOnInteraction: false,
                            }
                        });
                        
                        // Swiperの初期化後にInstagramの埋め込みを処理
                        swiper.on('init', function() {
                            window.instgrm.Embeds.process();
                        });
                        swiper.on('slideChange', function() {
                            window.instgrm.Embeds.process();
                        });

                        // エラーハンドリング
                        window.addEventListener('error', function(e) {
                            console.log('エラーが発生しました:', e.message);
                        });
                    });
                }
            } catch (e) { console.error("Instagram Swiper failed to initialize:", e); }

            // Re-process Instagram embeds after Swiper initialization (fallback)
            if (window.instgrm && window.instgrm.Embeds && typeof window.instgrm.Embeds.process === 'function') {
                window.instgrm.Embeds.process();
            }

            // LightGallery for Rooms
            const galleryTriggers = document.querySelectorAll('.gallery-trigger');
            galleryTriggers.forEach(trigger => {
                trigger.addEventListener('click', () => {
                    const room = trigger.dataset.room;
                    let items = [];
                    switch (room) {
                        case 'a':
                            items = [
                                { src: 'images/A/LINE_ALBUM_レタッチ済み A_250719_サムネイル.jpg', thumb: 'images/A/LINE_ALBUM_レタッチ済み A_250719_サムネイル.jpg', subHtml: '<h4>Room A</h4>' },
                                { src: 'images/A/LINE_ALBUM_レタッチ済み A_250719_1.jpg', thumb: 'images/A/LINE_ALBUM_レタッチ済み A_250719_1.jpg', subHtml: '<h4>Room A</h4>' },
                                { src: 'images/A/LINE_ALBUM_レタッチ済み A_250719_2.jpg', thumb: 'images/A/LINE_ALBUM_レタッチ済み A_250719_2.jpg', subHtml: '<h4>Room A</h4>' },
                                { src: 'images/A/LINE_ALBUM_レタッチ済み A_250719_3.jpg', thumb: 'images/A/LINE_ALBUM_レタッチ済み A_250719_3.jpg', subHtml: '<h4>Room A</h4>' },
                                { src: 'images/A/LINE_ALBUM_レタッチ済み A_250719_4.jpg', thumb: 'images/A/LINE_ALBUM_レタッチ済み A_250719_4.jpg', subHtml: '<h4>Room A</h4>' }
                            ];
                            break;
                        case 'b':
                            items = [
                                { src: 'images/B/LINE_ALBUM_レタッチ済み B_250719_サムネイル.jpg', thumb: 'images/B/LINE_ALBUM_レタッチ済み B_250719_サムネイル.jpg', subHtml: '<h4>Room B</h4>' },
                                { src: 'images/B/LINE_ALBUM_レタッチ済み B_250719_1.jpg', thumb: 'images/B/LINE_ALBUM_レタッチ済み B_250719_1.jpg', subHtml: '<h4>Room B</h4>' },
                                { src: 'images/B/LINE_ALBUM_レタッチ済み B_250719_3.jpg', thumb: 'images/B/LINE_ALBUM_レタッチ済み B_250719_3.jpg', subHtml: '<h4>Room B</h4>' }
                            ];
                            break;
                        case 'c':
                            items = [
                                { src: 'images/C/LINE_ALBUM_レタッチ済み C_250719_サムネイル.jpg', thumb: 'images/C/LINE_ALBUM_レタッチ済み C_250719_サムネイル.jpg', subHtml: '<h4>Room C</h4>' },
                                { src: 'images/C/LINE_ALBUM_レタッチ済み C_250719_2.jpg', thumb: 'images/C/LINE_ALBUM_レタッチ済み C_250719_2.jpg', subHtml: '<h4>Room C</h4>' }
                            ];
                            break;
                        case 'd':
                            items = [
                                { src: 'images/D/LINE_ALBUM_レタッチ済み D_250719_サムネイル.jpg', thumb: 'images/D/LINE_ALBUM_レタッチ済み D_250719_サムネイル.jpg', subHtml: '<h4>Room D</h4>' },
                                { src: 'images/D/LINE_ALBUM_レタッチ済み D_250719_1.jpg', thumb: 'images/D/LINE_ALBUM_レタッチ済み D_250719_1.jpg', subHtml: '<h4>Room D</h4>' }
                            ];
                            break;
                    }

                    const galleryContainer = document.createElement('div');
                    
                    const dynamicGallery = lightGallery(galleryContainer, {
                        dynamic: true,
                        plugins: [lgZoom, lgThumbnail],
                        dynamicEl: items,
                        download: false,
                        mobileSettings: {
                            controls: true,
                            showCloseIcon: true,
                            download: false,
                        }
                    });
                    dynamicGallery.openGallery();
                });
            });
        }

        // --- アプリケーションの実行 ---
        document.addEventListener('DOMContentLoaded', initializeApp);
        window.addEventListener('load', initializeLibraries);
        

    </script>
</body>
</html>